<mat-card>
    <mat-card-title class="d-flex justify-content-between align-items-center">
        <span>
            {{ '::Framework:Page:Title' | abpLocalization }}
        </span>
        <div class="d-flex justify-content-between align-items-center">
            <button mat-raised-button color="primary" class="round" (click)="openDialog()">
                <mat-icon>add</mat-icon>
                {{ '::Actions:Create' | abpLocalization }}
                {{ '::Framework:Framework' | abpLocalization }}
            </button>
            <span class="space"></span>
            <mat-form-field appearance="outline">
                <mat-label>{{ '::Search' | abpLocalization }}</mat-label>
                <input matInput >
                <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
        </div>
    </mat-card-title>

    <mat-card-content>
        <ngx-datatable
        class="material fullscreen"
        columnMode="force"
        [headerHeight]="50"
        [footerHeight]="50"
        rowHeight="auto"
        [scrollbarH]="true"
        #dataTable
        [rows]="items"
        [count]="totalCount"
        [list]="list"
        (activate)="activate($event)"
        default>
        
            <ngx-datatable-column [name]="'::Framework:Name_Ar' | abpLocalization" prop="nameAr"></ngx-datatable-column>
            <ngx-datatable-column [name]="'::Framework:Name_En' | abpLocalization" prop="nameEn"> </ngx-datatable-column>
            <ngx-datatable-column [name]="'::Framework:Shortcut_Ar' | abpLocalization" prop="shortcutAr"> </ngx-datatable-column>
            <ngx-datatable-column [name]="'::Framework:Shortcut_En' | abpLocalization" prop="shortcutEn"> </ngx-datatable-column>
        
            <ngx-datatable-column [name]="'::Tabel:Status' | abpLocalization" prop="status">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    {{ ( '::Framework:Status:' + SharedStatus[value] ) | abpLocalization  }}
                </ng-template>
            </ngx-datatable-column>
        
            <ngx-datatable-column [name]="'::Framework:LastUpdate' | abpLocalization" prop="lastModificationTime">
                <ng-template let-value="value" ngx-datatable-cell-template>
                    {{ value | date }}
                </ng-template>
            </ngx-datatable-column>
                
        
            <ngx-datatable-column [name]="'::Table:Actions' | abpLocalization" [maxWidth]="150" [sortable]="false" cellClass="options">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    <!-- <button mat-icon-button [matMenuTriggerFor]="menu" [matMenuTriggerData]="row" aria-label="Example icon-button with a menu">
                        <mat-icon>more_vert</mat-icon>
                    </button> -->

                    <button mat-button color="warn" (click)="$event.stopPropagation();delete(row.id)">
                        <mat-icon >delete_forever</mat-icon>
                    </button>

                    <button mat-button (click)="$event.stopPropagation();openDialog(row, FormMode.Edit)">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <!-- <div ngbDropdown container="body" class="d-inline-block">
                        <button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" ngbDropdownToggle>
                            <i class="fa fa-cog mr-1"></i>{{ '::Actions' | abpLocalization }}
                        </button>
                        <div ngbDropdownMenu>
                            <button *abpPermission="'ComplianceSystem.Books.Update'" ngbDropdownItem
                                (click)="editBook(row.id)">
                                {{ '::Edit' | abpLocalization }}
                            </button>
                            <button *abpPermission="'ComplianceSystem.Books.Delete'" ngbDropdownItem
                                (click)="delete(row.id)">
                                {{ '::Delete' | abpLocalization }}
                            </button>
                        </div>
                    </div> -->
                </ng-template>
            </ngx-datatable-column>
        </ngx-datatable>
    </mat-card-content>
</mat-card>


<ng-template #dialogRef let-data let-ref="dialogRef">
    <app-add-framework [mode]="data.mode" [data]="data.data" [ref]="ref"></app-add-framework>
</ng-template>


<mat-menu matMenuContent #menu="matMenu">
    <ng-template let-row="row" matMenuContent>
        <button mat-menu-item >
            <mat-icon>edit</mat-icon>
        </button>
    
        <button mat-menu-item>
          <mat-icon>delete_forever</mat-icon>
        </button>
    </ng-template>
</mat-menu>