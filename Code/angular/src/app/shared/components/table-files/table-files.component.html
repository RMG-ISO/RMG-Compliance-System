<div class="d-flex justify-content-between align-items-center">
  <span class="header-pipe">
    {{ title | abpLocalization }}
  </span>
  <app-upload-files *ngIf="!disabled" [attachment]="attachment" (OnUpload)="OnUploaded($event)"
    (OnBeginUpload)="OnBeginUpload($event)" (OnEndUpload)="OnEndUpload($event)"></app-upload-files>
</div>

<ngx-datatable class="material fullscreen"  [rows]="items" [count]="totalCount" appNgxdatatable >

  <ngx-datatable-column [name]="'::AttachmentFileName' | abpLocalization" prop="displayName"></ngx-datatable-column>

  <ngx-datatable-column [name]="'::AttachmentFileSize' | abpLocalization" prop="size">
    <ng-template let-value="value" ngx-datatable-cell-template>
      {{ value | fileSize }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column [name]="'::Responsible' | abpLocalization" prop="creator">
    <ng-template let-value="value" ngx-datatable-cell-template>
      {{ value.name }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column [name]="'::Actions' | abpLocalization" [maxWidth]="150" [sortable]="false" cellClass="options">
    <ng-template let-row="row" ngx-datatable-cell-template>
      <ng-container *ngIf="!disabled">
        <button mat-button *abpPermission="'ComplianceSystem.Framework.Delete'" color="warn" (click)="delete(row)">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </ng-container>

      <button mat-button *abpPermission="'ComplianceSystem.Framework.Update'" (click)="download(row)" color="primary">
        <mat-icon>file_download</mat-icon>
      </button>
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-footer></ngx-datatable-footer>
</ngx-datatable>
